<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Komplett guide f√∂r att publicera appar med GitHub och Firebase">
    <meta name="theme-color" content="#00ff88">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="App Guide">
    <title>App Guide üì±</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-card: #ffffff;
            --text-primary: #1a1a1a;
            --text-secondary: #6c757d;
            --accent: #0066ff;
            --accent-dim: #0052cc;
            --border: #e0e0e0;
            --success: #28a745;
            --warning: #ffc107;
            --error: #dc3545;
            --shadow: rgba(0, 0, 0, 0.08);
        }

        body {
            font-family: 'DM Sans', -apple-system, sans-serif;
            background: var(--bg-secondary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem 0;
            border-bottom: 1px solid var(--border);
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--accent) 0%, #00a8ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        /* Mode selector */
        .mode-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 3rem;
        }

        .mode-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 1rem;
            padding: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 8px var(--shadow);
        }

        .mode-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--accent);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .mode-card:hover {
            border-color: var(--accent);
            transform: translateY(-4px);
            box-shadow: 0 4px 16px var(--shadow);
        }

        .mode-card:hover::before {
            transform: scaleX(1);
        }

        .mode-card.active {
            border-color: var(--accent);
            background: var(--bg-secondary);
        }

        .mode-card.active::before {
            transform: scaleX(1);
        }

        .mode-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }

        .mode-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .mode-desc {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        /* Content area */
        .content {
            display: none;
        }

        .content.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Menu mode */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }

        .menu-item {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 0.75rem;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .menu-item:hover {
            border-color: var(--accent);
            background: var(--bg-secondary);
            transform: translateX(4px);
        }

        .menu-item-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.75rem;
        }

        .menu-item-icon {
            font-size: 1.5rem;
        }

        .menu-item-title {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .menu-item-desc {
            color: var(--text-secondary);
            font-size: 0.875rem;
            line-height: 1.5;
        }

        /* Step mode */
        .steps-container {
            position: relative;
        }

        .step {
            display: none;
            background: var(--bg-card);
            border-radius: 1rem;
            padding: 2rem;
            border: 1px solid var(--border);
        }

        .step.active {
            display: block;
            animation: slideIn 0.4s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .step-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .step-number {
            background: var(--accent);
            color: var(--bg-primary);
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.25rem;
            font-family: 'Space Mono', monospace;
        }

        .step-title {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .step-content {
            margin-bottom: 2rem;
        }

        .step-content h3 {
            color: var(--accent);
            font-size: 1.1rem;
            margin: 1.5rem 0 0.75rem;
        }

        .step-content p {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .step-content ol, .step-content ul {
            margin-left: 1.5rem;
            color: var(--text-secondary);
        }

        .step-content li {
            margin-bottom: 0.5rem;
        }

        .step-content code {
            background: var(--bg-secondary);
            padding: 0.2rem 0.5rem;
            border-radius: 0.25rem;
            font-family: 'Space Mono', monospace;
            font-size: 0.875rem;
            color: var(--accent);
        }

        .code-block {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Space Mono', monospace;
            font-size: 0.875rem;
            line-height: 1.5;
        }

        .code-block code {
            background: none;
            padding: 0;
            color: var(--text-primary);
        }

        .info-box {
            background: rgba(0, 102, 255, 0.08);
            border-left: 3px solid var(--accent);
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
        }

        .info-box strong {
            color: var(--accent);
        }

        .warning-box {
            background: rgba(255, 193, 7, 0.08);
            border-left: 3px solid var(--warning);
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
        }

        .warning-box strong {
            color: #e69500;
        }

        /* Navigation */
        .step-nav {
            display: flex;
            gap: 1rem;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border);
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'DM Sans', sans-serif;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--accent);
            color: var(--bg-primary);
        }

        .btn-primary:hover {
            background: var(--accent-dim);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--accent);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Progress indicator */
        .progress-indicator {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .progress-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--border);
            transition: all 0.3s ease;
        }

        .progress-dot.active {
            background: var(--accent);
            transform: scale(1.5);
        }

        .progress-dot.completed {
            background: var(--accent-dim);
        }

        /* Detail view */
        .detail-view {
            background: var(--bg-card);
            border-radius: 1rem;
            padding: 2rem;
            border: 1px solid var(--border);
        }

        .detail-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .detail-icon {
            font-size: 2rem;
        }

        .detail-title {
            font-size: 1.75rem;
            font-weight: 700;
        }

        .detail-content {
            line-height: 1.8;
        }

        .detail-content h3 {
            color: var(--accent);
            margin: 2rem 0 1rem;
            font-size: 1.25rem;
        }

        .detail-content h4 {
            margin: 1.5rem 0 0.75rem;
        }

        .back-btn {
            margin-bottom: 1.5rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: color 0.2s;
        }

        .back-btn:hover {
            color: var(--accent);
        }

        /* App list styles */
        .app-list-container {
            background: var(--bg-card);
            border-radius: 1rem;
            padding: 2rem;
            border: 1px solid var(--border);
        }

        .firebase-config-box {
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .firebase-config-box textarea {
            width: 100%;
            background: var(--bg-primary);
            color: var(--text-primary);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1rem;
            font-family: 'Space Mono', monospace;
            font-size: 0.875rem;
            min-height: 150px;
            resize: vertical;
        }

        .firebase-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
            padding: 0.75rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
        }

        .firebase-status.connected {
            background: rgba(40, 167, 69, 0.08);
            color: #1e7e34;
        }

        .firebase-status.disconnected {
            background: rgba(220, 53, 69, 0.08);
            color: #bd2130;
        }

        .add-app-form {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 2rem;
        }

        .add-app-form input {
            flex: 1;
            background: var(--bg-card);
            color: var(--text-primary);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            font-size: 1rem;
            font-family: 'DM Sans', sans-serif;
            box-shadow: 0 1px 3px var(--shadow);
        }

        .add-app-form input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
        }

        .add-app-form input::placeholder {
            color: var(--text-secondary);
        }

        .app-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .app-item {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 0.75rem;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.2s;
            box-shadow: 0 1px 4px var(--shadow);
        }

        .app-item:hover {
            border-color: var(--accent);
            background: var(--bg-secondary);
            box-shadow: 0 2px 8px var(--shadow);
        }

        .app-icon {
            font-size: 1.5rem;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, rgba(0, 102, 255, 0.1) 0%, rgba(0, 168, 255, 0.1) 100%);
            border-radius: 0.5rem;
        }

        .app-info {
            flex: 1;
            min-width: 0;
        }

        .app-name {
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .app-url {
            color: var(--text-secondary);
            font-size: 0.875rem;
            font-family: 'Space Mono', monospace;
            overflow-x: auto;
            white-space: nowrap;
            max-width: 100%;
        }

        @media (max-width: 768px) {
            .app-url {
                white-space: normal;
                word-break: break-all;
                overflow-x: visible;
            }
        }

        .app-actions {
            display: flex;
            gap: 0.5rem;
        }

        .icon-btn {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border);
            background: var(--bg-card);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.125rem;
            transition: all 0.2s;
        }

        .icon-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
            transform: scale(1.1);
        }

        .icon-btn.delete:hover {
            border-color: var(--error);
            color: var(--error);
        }

        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-secondary);
        }

        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        /* Guide overlay */
        .guide-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 1rem;
        }

        .guide-overlay.active {
            display: flex;
        }

        .guide-popup {
            background: var(--bg-card);
            border-radius: 1.5rem;
            padding: 2rem;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: popupIn 0.3s ease;
        }

        @keyframes popupIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .guide-popup-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .guide-popup-title {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .close-btn {
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            border: none;
            background: var(--bg-secondary);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            transition: all 0.2s;
        }

        .close-btn:hover {
            background: var(--border);
            color: var(--text-primary);
        }

        .guide-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .guide-option {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 0.75rem;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .guide-option:hover {
            border-color: var(--accent);
            background: var(--bg-card);
            transform: translateX(4px);
        }

        .guide-option-icon {
            font-size: 1.75rem;
            width: 3rem;
            height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, rgba(0, 102, 255, 0.1) 0%, rgba(0, 168, 255, 0.1) 100%);
            border-radius: 0.75rem;
        }

        .guide-option-content {
            flex: 1;
        }

        .guide-option-title {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
        }

        .guide-option-desc {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .mode-selector {
                grid-template-columns: 1fr;
            }

            .menu-grid {
                grid-template-columns: 1fr;
            }

            .step-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .add-app-form {
                flex-direction: column;
            }

            .app-item {
                flex-direction: column;
                align-items: flex-start;
            }

            .app-actions {
                width: 100%;
                justify-content: flex-end;
            }

            .guide-popup {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>App Guide üì±</h1>
            <p>Din kompletta guide fr√•n app till f√§rdig installation</p>
        </div>

        <!-- Mina Appar section - Always visible -->
        <div id="myAppsSection">
            <div class="app-list-container">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border);">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="font-size: 2rem;">üöÄ</span>
                        <h2 style="font-size: 1.75rem; font-weight: 700; margin: 0;">Mina Appar</h2>
                    </div>
                </div>

                <div id="firebaseStatus" class="firebase-status connected" style="margin-bottom: 2rem;">
                    <span>üîÑ</span><span>Ansluter till Firebase...</span>
                </div>

                <h3 style="margin-bottom: 1rem; color: var(--accent); font-size: 1.1rem;">üì± L√§gg till App</h3>
                <div class="add-app-form">
                    <input type="text" id="appNameInput" placeholder="App-namn (t.ex. St√§dQuest)" />
                    <input type="url" id="appUrlInput" placeholder="URL (t.ex. https://patriknp.github.io/stadquest/)" />
                    <button class="btn btn-primary" onclick="addApp()">‚ûï L√§gg till</button>
                </div>

                <h3 style="margin-bottom: 1rem; color: var(--accent); font-size: 1.1rem;">üìã Dina Appar</h3>
                <div class="app-list" id="appList"></div>
            </div>
        </div>

        <!-- Guide Menu Button -->
        <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border); text-align: center;">
            <button class="btn btn-secondary" onclick="showGuideMenu()" style="padding: 0.75rem 1.5rem; font-size: 0.9rem; display: inline-flex; align-items: center; gap: 0.5rem; border-radius: 2rem;">
                <span style="font-size: 1rem;">üìö</span>
                <span>Guide</span>
            </button>
        </div>

        <!-- Guide overlay popup -->
        <div id="guideOverlay" class="guide-overlay" onclick="closeGuideMenu(event)">
            <div class="guide-popup" onclick="event.stopPropagation()">
                <div class="guide-popup-header">
                    <div class="guide-popup-title">
                        <span>üìö</span>
                        <span>Guide</span>
                    </div>
                    <button class="close-btn" onclick="closeGuideMenu()">√ó</button>
                </div>
                <div class="guide-options">
                    <div class="guide-option" onclick="selectGuideMode('menu')">
                        <div class="guide-option-icon">üìã</div>
                        <div class="guide-option-content">
                            <div class="guide-option-title">Meny</div>
                            <div class="guide-option-desc">V√§lj √§mne direkt fr√•n listan</div>
                        </div>
                    </div>
                    <div class="guide-option" onclick="selectGuideMode('steps')">
                        <div class="guide-option-icon">üéØ</div>
                        <div class="guide-option-content">
                            <div class="guide-option-title">Steg-f√∂r-steg</div>
                            <div class="guide-option-desc">Guidad genomg√•ng fr√•n b√∂rjan till slut</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Menu mode -->
        <div id="menuContent" class="content">
            <div class="back-btn" onclick="backToStart()" style="margin-bottom: 1rem;">‚Üê Tillbaka till start</div>
            <div class="menu-grid">
                <div class="menu-item" onclick="showDetail('github')">
                    <div class="menu-item-header">
                        <span class="menu-item-icon">üêô</span>
                        <span class="menu-item-title">GitHub Setup</span>
                    </div>
                    <div class="menu-item-desc">Skapa konto och publicera din f√∂rsta app</div>
                </div>

                <div class="menu-item" onclick="showDetail('firebase')">
                    <div class="menu-item-header">
                        <span class="menu-item-icon">üî•</span>
                        <span class="menu-item-title">Firebase Setup</span>
                    </div>
                    <div class="menu-item-desc">Aktivera realtidssynkning mellan enheter</div>
                </div>

                <div class="menu-item" onclick="showDetail('publish')">
                    <div class="menu-item-header">
                        <span class="menu-item-icon">üöÄ</span>
                        <span class="menu-item-title">Publicera App</span>
                    </div>
                    <div class="menu-item-desc">Ladda upp och g√∂r din app tillg√§nglig online</div>
                </div>

                <div class="menu-item" onclick="showDetail('install')">
                    <div class="menu-item-header">
                        <span class="menu-item-icon">üì±</span>
                        <span class="menu-item-title">Installera p√• Mobil</span>
                    </div>
                    <div class="menu-item-desc">Installera som riktig app p√• iPhone och Android</div>
                </div>

                <div class="menu-item" onclick="showDetail('update')">
                    <div class="menu-item-header">
                        <span class="menu-item-icon">üîÑ</span>
                        <span class="menu-item-title">Uppdatera App</span>
                    </div>
                    <div class="menu-item-desc">G√∂r √§ndringar och publicera uppdateringar</div>
                </div>

                <div class="menu-item" onclick="showDetail('database')">
                    <div class="menu-item-header">
                        <span class="menu-item-icon">üóÑÔ∏è</span>
                        <span class="menu-item-title">Databasstruktur</span>
                    </div>
                    <div class="menu-item-desc">Organisera data i Firebase f√∂r flera appar</div>
                </div>

                <div class="menu-item" onclick="showDetail('security')">
                    <div class="menu-item-header">
                        <span class="menu-item-icon">üîí</span>
                        <span class="menu-item-title">S√§kerhet</span>
                    </div>
                    <div class="menu-item-desc">Skydda din data med s√§kerhetsregler</div>
                </div>

                <div class="menu-item" onclick="showDetail('troubleshoot')">
                    <div class="menu-item-header">
                        <span class="menu-item-icon">üõ†Ô∏è</span>
                        <span class="menu-item-title">Fels√∂kning</span>
                    </div>
                    <div class="menu-item-desc">L√∂sningar p√• vanliga problem</div>
                </div>

                <div class="menu-item" onclick="showDetail('costs')">
                    <div class="menu-item-header">
                        <span class="menu-item-icon">üí∞</span>
                        <span class="menu-item-title">Kostnader</span>
                    </div>
                    <div class="menu-item-desc">Vad √§r gratis och vad kostar det?</div>
                </div>

                <div class="menu-item" onclick="showDetail('checklist')">
                    <div class="menu-item-header">
                        <span class="menu-item-icon">‚úÖ</span>
                        <span class="menu-item-title">Snabb Checklista</span>
                    </div>
                    <div class="menu-item-desc">10 steg f√∂r att publicera en ny app</div>
                </div>
            </div>
        </div>

        <!-- Steps mode -->
        <div id="stepsContent" class="content">
            <div class="back-btn" onclick="backToStart()" style="margin-bottom: 1rem;">‚Üê Tillbaka till start</div>
            <div class="progress-indicator" id="progressIndicator"></div>
            <div class="steps-container" id="stepsContainer"></div>
            <div class="step-nav">
                <button class="btn btn-secondary" onclick="prevStep()" id="prevBtn">‚Üê F√∂reg√•ende</button>
                <button class="btn btn-primary" onclick="nextStep()" id="nextBtn">N√§sta ‚Üí</button>
            </div>
        </div>

        <!-- Detail view -->
        <div id="detailContent" class="content"></div>
    </div>

    <script>
        // Firebase configuration (redan konfigurerad!)
        let firebaseConfig = {
            apiKey: "AIzaSyCZjOBDcyyLMQZDeQPKK0bpdRSh3prLs0M",
            authDomain: "patrikapps-cd169.firebaseapp.com",
            databaseURL: "https://patrikapps-cd169-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "patrikapps-cd169",
            storageBucket: "patrikapps-cd169.firebasestorage.app",
            messagingSenderId: "334803684499",
            appId: "1:334803684499:web:13c0f00c357ad5c97ed166"
        };
        let db = null;
        let myApps = [];
        let isFirebaseConnected = false;

        // Starta Firebase automatiskt
        initFirebase();

        async function initFirebase() {
            try {
                // Dynamisk import av Firebase
                const firebaseApp = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js');
                const firebaseDb = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js');
                
                const app = firebaseApp.initializeApp(firebaseConfig);
                db = firebaseDb.getDatabase(app);
                isFirebaseConnected = true;
                
                // Lyssna p√• √§ndringar
                const appsRef = firebaseDb.ref(db, 'guide-app/apps');
                firebaseDb.onValue(appsRef, (snapshot) => {
                    myApps = snapshot.val() || [];
                    renderAppList();
                    updateFirebaseStatus(true);
                });
                
                // Spara Firebase imports globalt
                window.firebaseDb = firebaseDb;
            } catch (e) {
                console.error('Firebase connection failed:', e);
                isFirebaseConnected = false;
                updateFirebaseStatus(false);
                // Fallback till localStorage
                loadAppsFromLocalStorage();
            }
        }

        function loadAppsFromLocalStorage() {
            const saved = localStorage.getItem('my_apps');
            if (saved) {
                myApps = JSON.parse(saved);
                renderAppList();
            }
        }

        function saveAppsToLocalStorage() {
            localStorage.setItem('my_apps', JSON.stringify(myApps));
        }

        async function saveAppsToFirebase() {
            if (db && window.firebaseDb) {
                const appsRef = window.firebaseDb.ref(db, 'guide-app/apps');
                await window.firebaseDb.set(appsRef, myApps);
            }
        }

        function updateFirebaseStatus(connected) {
            const statusEl = document.getElementById('firebaseStatus');
            if (statusEl) {
                if (connected) {
                    statusEl.className = 'firebase-status connected';
                    statusEl.innerHTML = '<span>‚úÖ</span><span>Ansluten - Synkar mellan enheter</span>';
                } else {
                    statusEl.className = 'firebase-status disconnected';
                    statusEl.innerHTML = '<span>‚ö†Ô∏è</span><span>Offline-l√§ge - Endast denna enhet</span>';
                }
            }
        }

        window.saveFirebaseConfig = function() {
            const configText = document.getElementById('firebaseConfigInput').value.trim();
            if (!configText) {
                alert('Klistra in din Firebase-konfiguration f√∂rst!');
                return;
            }

            try {
                // Extrahera JSON fr√•n eventuell JavaScript-kod
                const jsonMatch = configText.match(/\{[\s\S]*\}/);
                if (jsonMatch) {
                    firebaseConfig = JSON.parse(jsonMatch[0]);
                    localStorage.setItem('firebase_config', JSON.stringify(firebaseConfig));
                    initFirebase();
                    alert('‚úÖ Firebase konfigurerad! Starta om sidan f√∂r att ansluta.');
                    location.reload();
                } else {
                    throw new Error('Ingen giltig JSON hittades');
                }
            } catch (e) {
                alert('‚ùå Ogiltig konfiguration! Kontrollera att du kopierat r√§tt fr√•n Firebase Console.');
                console.error(e);
            }
        }

        window.addApp = function() {
            const nameInput = document.getElementById('appNameInput');
            const urlInput = document.getElementById('appUrlInput');
            
            const name = nameInput.value.trim();
            const url = urlInput.value.trim();
            
            if (!name || !url) {
                alert('Fyll i b√•de namn och URL!');
                return;
            }

            const newApp = {
                id: Date.now(),
                name: name,
                url: url,
                icon: getEmojiForApp(name),
                addedAt: new Date().toISOString()
            };

            myApps.push(newApp);
            
            // Spara
            if (isFirebaseConnected) {
                saveAppsToFirebase();
            } else {
                saveAppsToLocalStorage();
                renderAppList();
            }

            // Rensa inputs
            nameInput.value = '';
            urlInput.value = '';
            nameInput.focus();
        }

        function getEmojiForApp(name) {
            const lower = name.toLowerCase();
            if (lower.includes('st√§d') || lower.includes('clean')) return 'üßπ';
            if (lower.includes('lager') || lower.includes('inventory')) return 'üì¶';
            if (lower.includes('sync') || lower.includes('test')) return 'üîÑ';
            if (lower.includes('guide') || lower.includes('help')) return 'üìö';
            if (lower.includes('fitness') || lower.includes('tr√§ning')) return 'üí™';
            return 'üì±';
        }

        window.deleteApp = function(id) {
            if (!confirm('Ta bort denna app?')) return;
            
            myApps = myApps.filter(app => app.id !== id);
            
            if (isFirebaseConnected) {
                saveAppsToFirebase();
            } else {
                saveAppsToLocalStorage();
                renderAppList();
            }
        }

        window.copyUrl = function(url) {
            navigator.clipboard.writeText(url).then(() => {
                // Visual feedback
                const btn = event.currentTarget;
                const originalContent = btn.innerHTML;
                btn.innerHTML = '‚úì';
                btn.style.color = 'var(--success)';
                setTimeout(() => {
                    btn.innerHTML = originalContent;
                    btn.style.color = '';
                }, 1000);
            }).catch(() => {
                alert('Kopiering misslyckades. Kopiera manuellt: ' + url);
            });
        }

        window.openApp = function(url) {
            window.open(url, '_blank');
        }

        function renderAppList() {
            const listEl = document.getElementById('appList');
            if (!listEl) return;

            if (myApps.length === 0) {
                listEl.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üì±</div>
                        <div>Inga appar tillagda √§nnu</div>
                        <div style="font-size: 0.875rem; margin-top: 0.5rem;">L√§gg till dina app-adresser h√§r f√∂r att snabbt komma √•t dem p√• alla enheter</div>
                    </div>
                `;
                return;
            }

            listEl.innerHTML = myApps.map(app => `
                <div class="app-item">
                    <div class="app-icon">${app.icon}</div>
                    <div class="app-info">
                        <div class="app-name">${app.name}</div>
                        <div class="app-url">${app.url}</div>
                    </div>
                    <div class="app-actions">
                        <button class="icon-btn" onclick="openApp('${app.url}')" title="√ñppna">üîó</button>
                        <button class="icon-btn" onclick="copyUrl('${app.url}')" title="Kopiera URL">üìã</button>
                        <button class="icon-btn delete" onclick="deleteApp(${app.id})" title="Ta bort">üóëÔ∏è</button>
                    </div>
                </div>
            `).join('');
        }

        window.showMyApps = function() {
            document.getElementById('menuContent').classList.remove('active');
            const detailContent = document.getElementById('detailContent');
            detailContent.classList.add('active');
            
            detailContent.innerHTML = `
                <div class="back-btn" onclick="backToStart()">‚Üê Tillbaka till start</div>
                <div class="app-list-container">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border);">
                        <span style="font-size: 2rem;">üöÄ</span>
                        <h2 style="font-size: 1.75rem; font-weight: 700;">Mina Appar</h2>
                    </div>

                    <div id="firebaseStatus" class="firebase-status ${isFirebaseConnected ? 'connected' : 'disconnected'}" style="margin-bottom: 2rem;">
                        ${isFirebaseConnected ? 
                            '<span>‚úÖ</span><span>Ansluten - Synkar mellan enheter</span>' : 
                            '<span>üîÑ</span><span>Ansluter till Firebase...</span>'}
                    </div>

                    <h3 style="margin-bottom: 1rem; color: var(--accent);">üì± L√§gg till App</h3>
                    <div class="add-app-form">
                        <input type="text" id="appNameInput" placeholder="App-namn (t.ex. St√§dQuest)" />
                        <input type="url" id="appUrlInput" placeholder="URL (t.ex. https://patriknp.github.io/stadquest/)" />
                        <button class="btn btn-primary" onclick="addApp()">‚ûï</button>
                    </div>

                    <h3 style="margin-bottom: 1rem; color: var(--accent);">üìã Dina Appar</h3>
                    <div class="app-list" id="appList"></div>
                </div>
            `;
            
            renderAppList();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Original guide app code
        let currentMode = null;
        let currentStep = 0;
        let currentDetail = null;

        const steps = [
            {
                title: "F√∂rberedelser",
                icon: "üéØ",
                content: `
                    <h3>V√§lkommen!</h3>
                    <p>Denna guide visar dig hur du tar en HTML-app och g√∂r den tillg√§nglig online med realtidssynkning mellan enheter.</p>
                    
                    <div class="info-box">
                        <strong>‚è±Ô∏è Tids√•tg√•ng:</strong><br>
                        ‚Ä¢ F√∂rsta g√•ngen: 15-20 minuter<br>
                        ‚Ä¢ Efterf√∂ljande appar: ~5 minuter
                    </div>

                    <h3>Vad du beh√∂ver:</h3>
                    <ul>
                        <li>En email-adress (Gmail fungerar bra)</li>
                        <li>Din HTML-app (t.ex. stadquest.html)</li>
                        <li>10-15 minuter tid</li>
                    </ul>

                    <h3>Vad du f√•r:</h3>
                    <ul>
                        <li>‚úÖ Din app online (gratis)</li>
                        <li>‚úÖ Realtidssynkning mellan enheter</li>
                        <li>‚úÖ Installation som riktig app p√• mobiler</li>
                        <li>‚úÖ Total kostnad: 0 kr</li>
                    </ul>
                `
            },
            {
                title: "GitHub-konto",
                icon: "üêô",
                content: `
                    <h3>Skapa GitHub-konto</h3>
                    <p>GitHub √§r d√§r din app kommer att ligga online. Det √§r helt gratis!</p>
                    
                    <h4>Steg:</h4>
                    <ol>
                        <li>G√• till <code>https://github.com</code></li>
                        <li>Klicka p√• "Sign up"</li>
                        <li>Fyll i:
                            <ul>
                                <li>Email-adress</li>
                                <li>V√§lj l√∂senord</li>
                                <li>V√§lj anv√§ndarnamn (t.ex. "patriknp")</li>
                            </ul>
                        </li>
                        <li>Verifiera din email</li>
                        <li>Klart! üéâ</li>
                    </ol>

                    <div class="info-box">
                        <strong>üí° Tips:</strong> V√§lj ett kort och l√§tt anv√§ndarnamn - det blir en del av dina app-adresser!
                    </div>
                `
            },
            {
                title: "Firebase-konto",
                icon: "üî•",
                content: `
                    <h3>Skapa Firebase-projekt</h3>
                    <p>Firebase anv√§nds f√∂r att synka data mellan enheter i realtid.</p>
                    
                    <h4>Steg:</h4>
                    <ol>
                        <li>G√• till <code>https://console.firebase.google.com</code></li>
                        <li>Logga in med ditt Google-konto</li>
                        <li>Klicka "Add project" / "L√§gg till projekt"</li>
                        <li>Namnge projektet: <code>PatrikApps</code> (eller vad du vill)</li>
                        <li>Inaktivera Google Analytics (beh√∂vs inte)</li>
                        <li>Klicka "Create project"</li>
                        <li>V√§nta ~30 sekunder</li>
                        <li>Klart! üéâ</li>
                    </ol>

                    <div class="info-box">
                        <strong>üí° Tips:</strong> Ett Firebase-projekt kan anv√§ndas f√∂r ALLA dina appar!
                    </div>
                `
            },
            {
                title: "Aktivera Database",
                icon: "üóÑÔ∏è",
                content: `
                    <h3>Aktivera Realtime Database</h3>
                    <p>Nu aktiverar vi databasen som synkar data mellan enheter.</p>
                    
                    <h4>I Firebase Console:</h4>
                    <ol>
                        <li>Klicka p√• "Realtime Database" i v√§nstermenyn</li>
                        <li>Klicka "Create Database"</li>
                        <li>V√§lj plats: <code>europe-west1</code> (n√§rmast Sverige)</li>
                        <li>V√§lj s√§kerhetsregler: "Start in test mode"</li>
                        <li>Klicka "Enable"</li>
                        <li>V√§nta ~10 sekunder</li>
                    </ol>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è OBS:</strong> Test mode till√•ter alla att l√§sa/skriva. Bra f√∂r att komma ig√•ng, men √§ndra detta senare! Se s√§kerhetsavsnittet.
                    </div>
                `
            },
            {
                title: "H√§mta Firebase Config",
                icon: "üîë",
                content: `
                    <h3>H√§mta din Firebase-konfiguration</h3>
                    <p>Nu ska vi f√• de nycklar som din app beh√∂ver.</p>
                    
                    <h4>Steg:</h4>
                    <ol>
                        <li>I Firebase Console, klicka p√• kugghjulet ‚öôÔ∏è bredvid "Project Overview"</li>
                        <li>V√§lj "Project settings"</li>
                        <li>Scrolla ner till "Your apps"</li>
                        <li>Klicka p√• webb-ikonen <code>&lt;/&gt;</code></li>
                        <li>Namnge appen: "Mina Appar"</li>
                        <li>KRYSSA INTE I Firebase Hosting</li>
                        <li>Klicka "Register app"</li>
                    </ol>

                    <h4>Kopiera detta:</h4>
                    <div class="code-block"><code>const firebaseConfig = {
  apiKey: "AIzaSyA...",
  authDomain: "...",
  databaseURL: "...",
  projectId: "...",
  storageBucket: "...",
  messagingSenderId: "...",
  appId: "..."
};</code></div>

                    <div class="info-box">
                        <strong>üí° Viktigt:</strong> Spara denna config i en textfil! Du anv√§nder samma config f√∂r alla appar.
                    </div>
                `
            },
            {
                title: "F√∂rbered App",
                icon: "üìù",
                content: `
                    <h3>F√∂rbered din app-fil</h3>
                    <p>Nu l√§gger vi in Firebase-konfigurationen i din app.</p>
                    
                    <h4>Steg:</h4>
                    <ol>
                        <li>D√∂p din HTML-fil till <code>index.html</code></li>
                        <li>√ñppna filen i en textredigerare</li>
                        <li>Hitta JavaScript-sektionen (d√§r <code>&lt;script&gt;</code> st√•r)</li>
                        <li>L√§gg till l√§ngst upp i scriptet:</li>
                    </ol>

                    <div class="code-block"><code>// Firebase konfiguration
const firebaseConfig = {
  // KLISTRA IN DIN CONFIG H√ÑR
};

// Importera Firebase
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
import { getDatabase, ref, set, onValue } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

// Initiera
const app = initializeApp(firebaseConfig);
const db = getDatabase(app);</code></div>

                    <div class="info-box">
                        <strong>üí° Tips:</strong> Beh√•ller du originalnamnet (t.ex. stadquest.html) funkar det ocks√•, men URL:en blir l√§ngre.
                    </div>
                `
            },
            {
                title: "Skapa Repository",
                icon: "üì¶",
                content: `
                    <h3>Skapa GitHub Repository</h3>
                    <p>Ett repository √§r som en mapp f√∂r din app p√• GitHub.</p>
                    
                    <h4>Steg:</h4>
                    <ol>
                        <li>G√• till <code>https://github.com</code></li>
                        <li>Klicka p√• gr√∂na "New" eller +-tecknet ‚Üí "New repository"</li>
                        <li>Repository namn: <code>stadquest</code> (sm√• bokst√§ver, inga mellanslag)</li>
                        <li>Beskrivning (valfri): "St√§dQuest familjeapp"</li>
                        <li>V√§lj "Public"</li>
                        <li>Kryssa i "Add a README file"</li>
                        <li>Klicka "Create repository"</li>
                    </ol>

                    <div class="info-box">
                        <strong>üí° Tips:</strong> Skapa ett separat repo f√∂r varje app du g√∂r!
                    </div>
                `
            },
            {
                title: "Ladda upp App",
                icon: "‚¨ÜÔ∏è",
                content: `
                    <h3>Ladda upp din app</h3>
                    <p>Nu l√§gger vi din app p√• GitHub.</p>
                    
                    <h4>Steg:</h4>
                    <ol>
                        <li>I ditt nya repo, klicka "Add file" ‚Üí "Upload files"</li>
                        <li>Dra din <code>index.html</code> till rutan</li>
                        <li>Om du har ikoner eller manifest.json, dra √§ven dem</li>
                        <li>Skriv commit-meddelande: "Initial upload"</li>
                        <li>Klicka "Commit changes"</li>
                        <li>V√§nta tills uppladdningen √§r klar</li>
                    </ol>

                    <div class="info-box">
                        <strong>‚úÖ Klart!</strong> Din app ligger nu p√• GitHub!
                    </div>
                `
            },
            {
                title: "Aktivera GitHub Pages",
                icon: "üåê",
                content: `
                    <h3>G√∂r appen tillg√§nglig online</h3>
                    <p>Nu publicerar vi appen s√• alla kan n√• den.</p>
                    
                    <h4>Steg:</h4>
                    <ol>
                        <li>I ditt repo, klicka "Settings" (l√§ngst upp till h√∂ger)</li>
                        <li>Klicka "Pages" i v√§nstermenyn</li>
                        <li>Under "Source":
                            <ul>
                                <li>Branch: V√§lj <code>main</code></li>
                                <li>Folder: V√§lj <code>/ (root)</code></li>
                            </ul>
                        </li>
                        <li>Klicka "Save"</li>
                        <li>V√§nta 2-3 minuter</li>
                    </ol>

                    <div class="info-box">
                        <strong>üéâ Din app √§r nu live!</strong><br>
                        URL: <code>https://anv√§ndarnamn.github.io/reponamn/</code>
                    </div>
                `
            },
            {
                title: "Installera p√• Mobil",
                icon: "üì±",
                content: `
                    <h3>Installera som app p√• din mobil</h3>
                    <p>Nu kan du installera appen som om det vore en riktig app fr√•n App Store!</p>
                    
                    <h4>iPhone/iPad (Safari):</h4>
                    <ol>
                        <li>√ñppna appen i Safari</li>
                        <li>Tryck p√• Dela-knappen (fyrkant med pil upp√•t)</li>
                        <li>Scrolla ner ‚Üí "L√§gg till p√• hemsk√§rmen"</li>
                        <li>Bekr√§fta</li>
                        <li>Appen finns nu p√• hemsk√§rmen! üéâ</li>
                    </ol>

                    <h4>Android (Chrome/Samsung Internet):</h4>
                    <ol>
                        <li>√ñppna appen i webbl√§saren</li>
                        <li>Tryck p√• menyn (tre punkter)</li>
                        <li>V√§lj "Installera app" eller "L√§gg till p√• startsk√§rmen"</li>
                        <li>Bekr√§fta</li>
                        <li>Appen finns nu p√• hemsk√§rmen! üéâ</li>
                    </ol>

                    <div class="info-box">
                        <strong>‚ú® Perfekt!</strong> √ñppna appen p√• flera enheter samtidigt och se hur √§ndringar synkar i realtid!
                    </div>
                `
            },
            {
                title: "Klart!",
                icon: "üéâ",
                content: `
                    <h3>Grattis! Du √§r klar! üéâ</h3>
                    <p>Din app √§r nu publicerad och kan anv√§ndas p√• alla enheter!</p>
                    
                    <h4>Vad du har √•stadkommit:</h4>
                    <ul>
                        <li>‚úÖ Skapat GitHub och Firebase-konton</li>
                        <li>‚úÖ Publicerat din app online</li>
                        <li>‚úÖ Aktiverat realtidssynkning</li>
                        <li>‚úÖ Installerat p√• mobiler</li>
                        <li>‚úÖ Total kostnad: 0 kr</li>
                    </ul>

                    <h4>N√§sta steg:</h4>
                    <ul>
                        <li>Testa att √§ndra n√•got p√• en enhet och se det uppdateras p√• en annan</li>
                        <li>Skapa fler appar med samma Firebase-projekt</li>
                        <li>L√§s s√§kerhetsavsnittet f√∂r att skydda din data</li>
                    </ul>

                    <div class="info-box">
                        <strong>üí° Tips:</strong> Anv√§nd menyn f√∂r att hitta specifika avsnitt som s√§kerhet, uppdateringar och fels√∂kning!
                    </div>
                `
            }
        ];

        const details = {
            github: {
                title: "GitHub Setup",
                icon: "üêô",
                content: `
                    <h3>Skapa GitHub-konto</h3>
                    <p>GitHub √§r d√§r din app kommer att ligga online. Det √§r helt gratis och anv√§nds av miljontals utvecklare.</p>
                    
                    <h4>Steg-f√∂r-steg:</h4>
                    <ol>
                        <li>G√• till <code>https://github.com</code></li>
                        <li>Klicka p√• "Sign up"</li>
                        <li>Fyll i din email-adress</li>
                        <li>V√§lj ett starkt l√∂senord</li>
                        <li>V√§lj anv√§ndarnamn (t.ex. "patriknp")
                            <ul>
                                <li>Anv√§nd sm√• bokst√§ver</li>
                                <li>Inga mellanslag</li>
                                <li>Bindestreck ok</li>
                            </ul>
                        </li>
                        <li>Verifiera din email</li>
                        <li>Klart!</li>
                    </ol>

                    <div class="info-box">
                        <strong>üí° Viktigt:</strong> Ditt anv√§ndarnamn blir en del av dina app-adresser:<br>
                        <code>https://anv√§ndarnamn.github.io/app-namn/</code>
                    </div>

                    <h3>Skapa ett Repository</h3>
                    <p>Ett repository (repo) √§r som en mapp f√∂r varje app.</p>

                    <h4>Skapa nytt repo:</h4>
                    <ol>
                        <li>Klicka p√• gr√∂na "New" eller +-tecknet ‚Üí "New repository"</li>
                        <li>Repository namn: <code>stadquest</code> (exempel)
                            <ul>
                                <li>Sm√• bokst√§ver rekommenderas</li>
                                <li>Inga mellanslag (anv√§nd bindestreck: my-app)</li>
                                <li>Kort och beskrivande</li>
                            </ul>
                        </li>
                        <li>Beskrivning (valfri): "St√§dQuest - Familjeapp"</li>
                        <li>V√§lj "Public" (kr√§vs f√∂r gratis hosting)</li>
                        <li>Kryssa i "Add a README file"</li>
                        <li>Klicka "Create repository"</li>
                    </ol>

                    <h3>Ladda upp filer</h3>
                    <ol>
                        <li>I ditt nya repo, klicka "Add file" ‚Üí "Upload files"</li>
                        <li>Dra din <code>index.html</code> till rutan</li>
                        <li>L√§gg √§ven till:
                            <ul>
                                <li>Ikoner (icon-192.png, icon-512.png)</li>
                                <li>manifest.json (om du har en)</li>
                            </ul>
                        </li>
                        <li>Skriv commit-meddelande: "Initial upload"</li>
                        <li>Klicka "Commit changes"</li>
                    </ol>

                    <div class="info-box">
                        <strong>‚úÖ Tips:</strong> Skapa ett separat repo f√∂r varje app f√∂r b√§ttre organisation!
                    </div>
                `
            },
            firebase: {
                title: "Firebase Setup",
                icon: "üî•",
                content: `
                    <h3>Skapa Firebase-projekt</h3>
                    <p>Firebase ger din app realtidssynkning mellan enheter, helt gratis f√∂r sm√• appar.</p>
                    
                    <h4>Skapa projekt:</h4>
                    <ol>
                        <li>G√• till <code>https://console.firebase.google.com</code></li>
                        <li>Logga in med ditt Google-konto</li>
                        <li>Klicka "Add project"</li>
                        <li>Projektnamn: <code>PatrikApps</code> (eller vad du vill)
                            <ul>
                                <li>Ett projekt kan anv√§ndas f√∂r ALLA dina appar</li>
                                <li>Du beh√∂ver bara g√∂ra detta EN g√•ng</li>
                            </ul>
                        </li>
                        <li>Google Analytics: St√§ng av (beh√∂vs inte)</li>
                        <li>Klicka "Create project"</li>
                        <li>V√§nta ~30 sekunder</li>
                    </ol>

                    <h3>Aktivera Realtime Database</h3>
                    <ol>
                        <li>I Firebase Console, klicka "Realtime Database" i v√§nstermenyn</li>
                        <li>Klicka "Create Database"</li>
                        <li>V√§lj plats: <code>europe-west1</code> (Sverige/Europa)</li>
                        <li>S√§kerhetsregler: "Start in test mode"</li>
                        <li>Klicka "Enable"</li>
                    </ol>

                    <div class="warning-box">
                        <strong>‚ö†Ô∏è Viktigt:</strong> Test mode till√•ter alla att l√§sa/skriva. Detta √§r OK f√∂r att komma ig√•ng, men du b√∂r √§ndra s√§kerhetsreglerna senare! Se s√§kerhetsavsnittet.
                    </div>

                    <h3>H√§mta konfiguration</h3>
                    <ol>
                        <li>Klicka p√• kugghjulet ‚öôÔ∏è bredvid "Project Overview"</li>
                        <li>V√§lj "Project settings"</li>
                        <li>Scrolla ner till "Your apps"</li>
                        <li>Klicka p√• webb-ikonen <code>&lt;/&gt;</code></li>
                        <li>Namnge appen: "Mina Appar"</li>
                        <li><strong>KRYSSA INTE I</strong> Firebase Hosting</li>
                        <li>Klicka "Register app"</li>
                    </ol>

                    <h4>Du f√•r nu se n√•got som liknar:</h4>
                    <div class="code-block"><code>const firebaseConfig = {
  apiKey: "AIzaSyA...",
  authDomain: "ditt-projekt.firebaseapp.com",
  databaseURL: "https://ditt-projekt.europe-west1.firebasedatabase.app",
  projectId: "ditt-projekt",
  storageBucket: "ditt-projekt.firebasestorage.app",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};</code></div>

                    <div class="info-box">
                        <strong>üíæ Spara detta!</strong> Kopiera hela firebaseConfig till en textfil. Du anv√§nder samma config f√∂r alla dina appar!
                    </div>
                `
            },
            publish: {
                title: "Publicera App",
                icon: "üöÄ",
                content: `
                    <h3>Publicera din app online</h3>
                    <p>Nu g√∂r vi s√• din app blir tillg√§nglig p√• internet!</p>
                    
                    <h3>1. F√∂rbered din app</h3>
                    <h4>D√∂p om filen:</h4>
                    <ul>
                        <li>D√∂p din HTML-fil till <code>index.html</code></li>
                        <li>Detta ger renare URL:er</li>
                    </ul>

                    <h4>L√§gg in Firebase:</h4>
                    <ol>
                        <li>√ñppna din <code>index.html</code> i textredigerare</li>
                        <li>Hitta <code>&lt;script&gt;</code>-taggen</li>
                        <li>L√§gg till L√ÑNGST UPP i scriptet:</li>
                    </ol>

                    <div class="code-block"><code>// Firebase konfiguration
const firebaseConfig = {
  // KLISTRA IN DIN CONFIG FR√ÖN FIREBASE H√ÑR
};

// Importera Firebase
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
import { getDatabase, ref, set, onValue } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

// Initiera
const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// Nu kan du anv√§nda Firebase!
// Exempel spara data:
// set(ref(db, 'path'), data);
// 
// Exempel lyssna p√• data:
// onValue(ref(db, 'path'), (snapshot) => {
//   const data = snapshot.val();
// });</code></div>

                    <h3>2. Skapa GitHub Repository</h3>
                    <ol>
                        <li>G√• till github.com</li>
                        <li>Klicka "New" (gr√∂n knapp)</li>
                        <li>Namnge repo: <code>stadquest</code> (eller vad du vill)</li>
                        <li>V√§lj "Public"</li>
                        <li>Kryssa i "Add a README"</li>
                        <li>Klicka "Create repository"</li>
                    </ol>

                    <h3>3. Ladda upp</h3>
                    <ol>
                        <li>Klicka "Add file" ‚Üí "Upload files"</li>
                        <li>Dra din <code>index.html</code></li>
                        <li>Om du har ikoner/manifest, dra √§ven dem</li>
                        <li>Commit message: "Initial upload"</li>
                        <li>Klicka "Commit changes"</li>
                    </ol>

                    <h3>4. Aktivera GitHub Pages</h3>
                    <ol>
                        <li>Klicka "Settings"</li>
                        <li>Klicka "Pages" i v√§nstermenyn</li>
                        <li>Under "Source":
                            <ul>
                                <li>Branch: <code>main</code></li>
                                <li>Folder: <code>/ (root)</code></li>
                            </ul>
                        </li>
                        <li>Klicka "Save"</li>
                        <li>V√§nta 2-3 minuter</li>
                    </ol>

                    <div class="info-box">
                        <strong>üéâ Din app √§r live!</strong><br>
                        URL: <code>https://anv√§ndarnamn.github.io/reponamn/</code><br>
                        Exempel: <code>https://patriknp.github.io/stadquest/</code>
                    </div>
                `
            },
            install: {
                title: "Installera p√• Mobil",
                icon: "üì±",
                content: `
                    <h3>Installera som riktig app</h3>
                    <p>Din webb-app kan installeras som en riktig app p√• b√•de iPhone och Android!</p>
                    
                    <h3>iPhone/iPad (Safari)</h3>
                    <ol>
                        <li>√ñppna din app-URL i Safari
                            <ul>
                                <li><code>https://anv√§ndarnamn.github.io/appnamn/</code></li>
                            </ul>
                        </li>
                        <li>Tryck p√• <strong>Dela-knappen</strong>
                            <ul>
                                <li>Fyrkant med pil upp√•t</li>
                                <li>Mitt i botten p√• sk√§rmen</li>
                            </ul>
                        </li>
                        <li>Scrolla ner i menyn</li>
                        <li>V√§lj <strong>"L√§gg till p√• hemsk√§rmen"</strong></li>
                        <li>Bekr√§fta namnet (kan √§ndras)</li>
                        <li>Tryck <strong>"L√§gg till"</strong></li>
                        <li>Appen finns nu p√• hemsk√§rmen! üéâ</li>
                    </ol>

                    <div class="info-box">
                        <strong>üí° Tips:</strong> Appen √∂ppnas nu i helsk√§rm utan Safari's gr√§nssnitt!
                    </div>

                    <h3>Android (Chrome)</h3>
                    <ol>
                        <li>√ñppna din app-URL i Chrome</li>
                        <li>Tryck p√• <strong>menyn</strong> (tre punkter l√§ngst upp till h√∂ger)</li>
                        <li>V√§lj <strong>"Installera app"</strong> eller <strong>"L√§gg till p√• startsk√§rmen"</strong></li>
                        <li>Bekr√§fta namnet</li>
                        <li>Tryck <strong>"Installera"</strong></li>
                        <li>Appen finns nu p√• hemsk√§rmen! üéâ</li>
                    </ol>

                    <h3>Android (Samsung Internet)</h3>
                    <ol>
                        <li>√ñppna din app-URL i Samsung Internet</li>
                        <li>Tryck p√• <strong>menyn</strong> (tre streck l√§ngst ner)</li>
                        <li>V√§lj <strong>"L√§gg till sida p√•..."</strong></li>
                        <li>V√§lj <strong>"Hemsk√§rmen"</strong></li>
                        <li>Bekr√§fta namnet</li>
                        <li>Appen finns nu p√• hemsk√§rmen! üéâ</li>
                    </ol>

                    <h3>Testa synkning!</h3>
                    <p>Nu n√§r appen √§r installerad p√• flera enheter:</p>
                    <ol>
                        <li>√ñppna appen p√• din telefon</li>
                        <li>√ñppna appen p√• din tablet/dator samtidigt</li>
                        <li>G√∂r en √§ndring p√• en enhet</li>
                        <li>Se hur det uppdateras DIREKT p√• andra enheten! ‚ú®</li>
                    </ol>

                    <div class="info-box">
                        <strong>üéä Magiskt!</strong> Detta √§r Firebase i action - realtidssynkning mellan alla enheter!
                    </div>
                `
            },
            update: {
                title: "Uppdatera App",
                icon: "üîÑ",
                content: `
                    <h3>Uppdatera din publicerade app</h3>
                    <p>Att g√∂ra √§ndringar i din app √§r enkelt!</p>
                    
                    <h3>Metod 1: Redigera direkt p√• GitHub (enklast)</h3>
                    <ol>
                        <li>G√• till ditt repo p√• github.com</li>
                        <li>Klicka p√• filen du vill √§ndra (t.ex. <code>index.html</code>)</li>
                        <li>Klicka p√• <strong>pennikonen</strong> (Edit)</li>
                        <li>G√∂r dina √§ndringar i editorn</li>
                        <li>Scrolla ner till "Commit changes"</li>
                        <li>Skriv vad du √§ndrat: "Fixade bugg med po√§ng"</li>
                        <li>Klicka <strong>"Commit changes"</strong></li>
                        <li>V√§nta 1-2 minuter</li>
                        <li>√Ñndringarna √§r nu live! üéâ</li>
                    </ol>

                    <h3>Metod 2: Ladda upp ny version</h3>
                    <ol>
                        <li>G√∂r √§ndringar i filen p√• din dator</li>
                        <li>G√• till ditt repo p√• GitHub</li>
                        <li>Klicka p√• den gamla filen</li>
                        <li>Klicka p√• <strong>papperskorgen</strong> (Delete)</li>
                        <li>Commit deletion</li>
                        <li>Klicka "Add file" ‚Üí "Upload files"</li>
                        <li>Dra den nya versionen</li>
                        <li>Commit changes</li>
                    </ol>

                    <h3>Uppdatera p√• mobilen</h3>
                    <p>Efter att du gjort √§ndringar p√• GitHub:</p>

                    <h4>iPhone:</h4>
                    <ul>
                        <li>St√§ng appen helt (swipe upp fr√•n botten)</li>
                        <li>√ñppna appen igen</li>
                        <li>Appen laddar automatiskt nya versionen</li>
                    </ul>

                    <h4>Android:</h4>
                    <ul>
                        <li>St√§ng appen helt</li>
                        <li>√ñppna appen igen</li>
                        <li>Eller: Dra ner fr√•n toppen f√∂r att uppdatera</li>
                    </ul>

                    <div class="info-box">
                        <strong>üí° Tips:</strong> Om √§ndringarna inte syns, g√∂r en "h√•rd reload":<br>
                        ‚Ä¢ P√• datorn: Ctrl+Shift+R (PC) eller Cmd+Shift+R (Mac)<br>
                        ‚Ä¢ P√• mobil: Rensa cache eller avinstallera och installera igen
                    </div>

                    <h3>Best practices</h3>
                    <ul>
                        <li>G√∂r sm√•, ofta commits</li>
                        <li>Skriv tydliga commit-meddelanden</li>
                        <li>Testa √§ndringar lokalt f√∂rst om m√∂jligt</li>
                        <li>V√§nta alltid 1-2 minuter efter commit</li>
                    </ul>
                `
            },
            database: {
                title: "Databasstruktur",
                icon: "üóÑÔ∏è",
                content: `
                    <h3>Organisera data i Firebase</h3>
                    <p>N√§r du har flera appar i samma Firebase-projekt √§r det viktigt att h√•lla datan separerad.</p>
                    
                    <h3>Rekommenderad struktur</h3>
                    <div class="code-block"><code>patrikapps-cd169 (ditt Firebase-projekt)
‚îú‚îÄ‚îÄ stadquest/
‚îÇ   ‚îú‚îÄ‚îÄ users/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user1: { name: "Patrik", points: 150 }
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user2: { name: "Sofie", points: 200 }
‚îÇ   ‚îú‚îÄ‚îÄ rooms/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ room1: { name: "K√∂k", tasks: [...] }
‚îÇ   ‚îú‚îÄ‚îÄ settings/
‚îÇ       ‚îî‚îÄ‚îÄ lastReset: "2026-01-17"
‚îú‚îÄ‚îÄ billager/
‚îÇ   ‚îú‚îÄ‚îÄ inventory/
‚îÇ   ‚îú‚îÄ‚îÄ orders/
‚îú‚îÄ‚îÄ synttestapp/
    ‚îî‚îÄ‚îÄ counter: 42</code></div>

                    <h3>Anv√§nda olika "mappar"</h3>
                    <p>I din app-kod, anv√§nd olika paths f√∂r olika appar:</p>

                    <div class="code-block"><code>// F√∂r St√§dQuest
const stadquestRef = ref(db, 'stadquest/users');
set(stadquestRef, usersData);

// F√∂r Billager
const billagerRef = ref(db, 'billager/inventory');
set(billagerRef, inventoryData);

// Lyssna p√• √§ndringar
onValue(ref(db, 'stadquest/users'), (snapshot) => {
  const data = snapshot.val();
  // Uppdatera app
});</code></div>

                    <h3>F√∂rdelar med denna struktur</h3>
                    <ul>
                        <li>‚úÖ Appar blandar inte ihop data</li>
                        <li>‚úÖ L√§tt att hitta data f√∂r specifik app</li>
                        <li>‚úÖ Kan s√§tta olika s√§kerhetsregler per app</li>
                        <li>‚úÖ Enklare att debugga</li>
                    </ul>

                    <h3>Exempel: Spara anv√§ndardata</h3>
                    <div class="code-block"><code>// Spara en anv√§ndare
const userRef = ref(db, 'stadquest/users/user1');
set(userRef, {
  name: 'Patrik',
  points: 150,
  level: 5,
  achievements: ['first_task', 'week_streak']
});

// Uppdatera specifik property
const pointsRef = ref(db, 'stadquest/users/user1/points');
set(pointsRef, 175);</code></div>

                    <div class="info-box">
                        <strong>üí° Tips:</strong> T√§nk p√• Firebase som mappar i ett filsystem - organisera logiskt!
                    </div>
                `
            },
            security: {
                title: "S√§kerhet",
                icon: "üîí",
                content: `
                    <h3>S√§kra din Firebase-databas</h3>
                    <p>Test mode √§r INTE s√§kert - alla kan l√§sa och skriva. H√§r √§r hur du fixar det!</p>
                    
                    <div class="warning-box">
                        <strong>‚ö†Ô∏è VIKTIGT:</strong> Test mode till√•ter ALLA att l√§sa och skriva till din databas. Detta √§r endast OK f√∂r testning!
                    </div>

                    <h3>Steg 1: Grundl√§ggande s√§kerhetsregler</h3>
                    <p>Begr√§nsa √•tkomst till endast dina appar:</p>

                    <ol>
                        <li>G√• till Firebase Console</li>
                        <li>Klicka "Realtime Database"</li>
                        <li>Klicka p√• fliken <strong>"Rules"</strong></li>
                        <li>Ers√§tt med:</li>
                    </ol>

                    <div class="code-block"><code>{
  "rules": {
    "stadquest": {
      ".read": true,
      ".write": true
    },
    "billager": {
      ".read": true,
      ".write": true
    },
    "$other": {
      ".read": false,
      ".write": false
    }
  }
}</code></div>

                    <p>Detta till√•ter l√§s/skriv endast f√∂r dina specifika appar.</p>

                    <h3>Steg 2: L√§gg till autentisering (Rekommenderat)</h3>
                    <p>F√∂r b√§ttre s√§kerhet, kr√§v att anv√§ndare loggar in:</p>

                    <div class="code-block"><code>{
  "rules": {
    "stadquest": {
      ".read": "auth != null",
      ".write": "auth != null"
    },
    "billager": {
      ".read": "auth != null",
      ".write": "auth != null"
    }
  }
}</code></div>

                    <h4>Aktivera autentisering:</h4>
                    <ol>
                        <li>I Firebase Console, klicka "Authentication"</li>
                        <li>Klicka "Get started"</li>
                        <li>V√§lj metod:
                            <ul>
                                <li><strong>Google</strong> - Enkelt, logga in med Google-konto</li>
                                <li><strong>Email/Password</strong> - Traditionell inloggning</li>
                                <li><strong>Anonymous</strong> - Tillf√§lliga konton</li>
                            </ul>
                        </li>
                        <li>Aktivera vald metod</li>
                    </ol>

                    <h3>Steg 3: Avancerade regler</h3>
                    <p>Bara √§garen kan √§ndra sin egen data:</p>

                    <div class="code-block"><code>{
  "rules": {
    "stadquest": {
      "users": {
        "$uid": {
          ".read": true,
          ".write": "$uid === auth.uid"
        }
      },
      "rooms": {
        ".read": true,
        ".write": "auth != null"
      }
    }
  }
}</code></div>

                    <div class="info-box">
                        <strong>‚úÖ Best practice:</strong><br>
                        ‚Ä¢ Anv√§nd autentisering f√∂r k√§nslig data<br>
                        ‚Ä¢ Testa regler innan du publicerar<br>
                        ‚Ä¢ L√§s Firebase Security Rules dokumentation
                    </div>

                    <h3>Testa dina regler</h3>
                    <p>Firebase har en simulator i Console:</p>
                    <ol>
                        <li>G√• till "Rules" fliken</li>
                        <li>Klicka "Rules Playground"</li>
                        <li>Testa olika scenarios</li>
                        <li>Se om reglerna fungerar som f√∂rv√§ntat</li>
                    </ol>
                `
            },
            troubleshoot: {
                title: "Fels√∂kning",
                icon: "üõ†Ô∏è",
                content: `
                    <h3>Vanliga problem och l√∂sningar</h3>
                    
                    <h3>Problem: "File not found" p√• GitHub Pages</h3>
                    <h4>L√∂sningar:</h4>
                    <ol>
                        <li>Kontrollera att filen heter exakt <code>index.html</code> (sm√• bokst√§ver)</li>
                        <li>Kontrollera att GitHub Pages √§r aktiverat:
                            <ul>
                                <li>Settings ‚Üí Pages</li>
                                <li>Branch: main</li>
                                <li>Folder: / (root)</li>
                            </ul>
                        </li>
                        <li>V√§nta 2-3 minuter efter aktivering</li>
                        <li>Kontrollera URL:en: <code>https://anv√§ndarnamn.github.io/reponamn/</code></li>
                    </ol>

                    <h3>Problem: Firebase ansluter inte</h3>
                    <h4>L√∂sningar:</h4>
                    <ol>
                        <li>Kontrollera att <code>firebaseConfig</code> √§r korrekt ifylld</li>
                        <li>√ñppna Developer Console (F12) ‚Üí Console-fliken</li>
                        <li>L√§s felmeddelanden</li>
                        <li>Kontrollera att Realtime Database √§r aktiverad</li>
                        <li>Kontrollera att <code>databaseURL</code> finns i din config</li>
                        <li>Testa att bes√∂ka databaseURL i webbl√§saren</li>
                    </ol>

                    <h3>Problem: "Permission denied" i Firebase</h3>
                    <h4>L√∂sningar:</h4>
                    <ol>
                        <li>G√• till Firebase Console ‚Üí Realtime Database ‚Üí Rules</li>
                        <li>Kontrollera att test mode √§r aktivt ELLER</li>
                        <li>Att dina s√§kerhetsregler till√•ter l√§s/skriv f√∂r r√§tt paths</li>
                        <li>Exempel test mode:
                            <div class="code-block"><code>{
  "rules": {
    ".read": true,
    ".write": true
  }
}</code></div>
                        </li>
                    </ol>

                    <h3>Problem: Data synkar inte mellan enheter</h3>
                    <h4>L√∂sningar:</h4>
                    <ol>
                        <li>Kontrollera internetanslutning p√• b√•da enheterna</li>
                        <li>√ñppna Console (F12) p√• b√•da och kolla felmeddelanden</li>
                        <li>Kontrollera att b√•da anv√§nder samma Firebase-projekt</li>
                        <li>Kontrollera att samma <code>path</code> anv√§nds i koden</li>
                        <li>Testa att manuellt uppdatera sidan</li>
                        <li>Kolla Firebase Console om data sparas d√§r</li>
                    </ol>

                    <h3>Problem: App uppdaterar inte efter √§ndringar</h3>
                    <h4>L√∂sningar:</h4>
                    <ol>
                        <li>V√§nta 2-3 minuter efter commit p√• GitHub</li>
                        <li>H√•rd refresh:
                            <ul>
                                <li>PC: Ctrl+Shift+R</li>
                                <li>Mac: Cmd+Shift+R</li>
                            </ul>
                        </li>
                        <li>P√• mobil: St√§ng appen helt och √∂ppna igen</li>
                        <li>Rensa cache:
                            <ul>
                                <li>Chrome: Inst√§llningar ‚Üí Integritet ‚Üí Rensa webbdata</li>
                                <li>Safari: Inst√§llningar ‚Üí Safari ‚Üí Rensa historik och data</li>
                            </ul>
                        </li>
                    </ol>

                    <h3>Problem: Appen √§r l√•ngsam</h3>
                    <h4>L√∂sningar:</h4>
                    <ol>
                        <li>Kontrollera internetanslutning</li>
                        <li>Minska m√§ngden data som synkas</li>
                        <li>Anv√§nd <code>once()</code> ist√§llet f√∂r <code>onValue()</code> d√§r det r√§cker</li>
                        <li>L√§gg till loading-indikatorer</li>
                        <li>Cacha data lokalt med localStorage</li>
                    </ol>

                    <div class="info-box">
                        <strong>üí° Allm√§n fels√∂kningstips:</strong><br>
                        1. √ñppna alltid Developer Console (F12)<br>
                        2. L√§s felmeddelanden noggrant<br>
                        3. Googla felmeddelandet<br>
                        4. Kontrollera Firebase Console f√∂r data
                    </div>

                    <h3>Beh√∂ver mer hj√§lp?</h3>
                    <ul>
                        <li>Firebase Docs: <code>firebase.google.com/docs</code></li>
                        <li>GitHub Pages Docs: <code>docs.github.com/pages</code></li>
                        <li>Stack Overflow: S√∂k efter ditt fel</li>
                    </ul>
                `
            },
            costs: {
                title: "Kostnader",
                icon: "üí∞",
                content: `
                    <h3>Vad kostar det?</h3>
                    <p>Bra nyheter: F√∂r familjeappar √§r allt gratis! üéâ</p>
                    
                    <h3>GitHub Pages (Hosting)</h3>
                    <h4>Gratis tier (alltid):</h4>
                    <ul>
                        <li>‚úÖ Obegr√§nsat antal appar</li>
                        <li>‚úÖ 1 GB lagring per repo</li>
                        <li>‚úÖ 100 GB bandbredd per m√•nad</li>
                        <li>‚úÖ Custom domains (egen dom√§n)</li>
                    </ul>

                    <div class="info-box">
                        <strong>F√∂r familjeappar:</strong> Alltid 100% gratis!<br>
                        En HTML-app √§r typiskt ~500 KB. Du kan ha hundratals appar utan kostnad.
                    </div>

                    <h3>Firebase Realtime Database</h3>
                    <h4>Spark Plan (Gratis tier):</h4>
                    <ul>
                        <li>‚úÖ 1 GB lagring</li>
                        <li>‚úÖ 10 GB nedladdning per m√•nad</li>
                        <li>‚úÖ 100 samtidiga anslutningar</li>
                    </ul>

                    <h4>Uppskattad anv√§ndning f√∂r familjeapp (7 personer):</h4>
                    <ul>
                        <li>Data: ~10 MB (1% av gr√§nsen)</li>
                        <li>Trafik: ~100 MB/m√•nad (1% av gr√§nsen)</li>
                        <li>Samtidiga anv√§ndare: 7 (7% av gr√§nsen)</li>
                    </ul>

                    <div class="info-box">
                        <strong>Resultat:</strong> Alltid gratis f√∂r familjeappar! üéâ<br>
                        Du n√•r aldrig gr√§nserna f√∂r normal familjeanv√§ndning.
                    </div>

                    <h3>Blaze Plan (Betalplan)</h3>
                    <p>Endast om du √∂verskrider gratistieren:</p>
                    <ul>
                        <li>$1 per GB lagring (√∂ver 1 GB)</li>
                        <li>$1 per GB nedladdning (√∂ver 10 GB)</li>
                    </ul>

                    <h4>N√§r beh√∂ver du Blaze?</h4>
                    <ul>
                        <li>Kommersiella appar med m√•nga anv√§ndare</li>
                        <li>Appar med mycket data (bilder, videor)</li>
                        <li>H√∂g trafik (tusentals anv√§ndare)</li>
                    </ul>

                    <div class="warning-box">
                        <strong>F√∂r familjeappar:</strong> Du n√•r ALDRIG dessa gr√§nser!
                    </div>

                    <h3>Sammanfattning</h3>
                    <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                        <tr style="background: var(--bg-secondary);">
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border);">Tj√§nst</th>
                            <th style="padding: 0.75rem; text-align: left; border: 1px solid var(--border);">Kostnad</th>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--border);">GitHub Pages</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--border); color: var(--success);">Gratis ‚úÖ</td>
                        </tr>
                        <tr style="background: var(--bg-secondary);">
                            <td style="padding: 0.75rem; border: 1px solid var(--border);">Firebase (familjeapp)</td>
                            <td style="padding: 0.75rem; border: 1px solid var(--border); color: var(--success);">Gratis ‚úÖ</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border: 1px solid var(--border);"><strong>Total kostnad</strong></td>
                            <td style="padding: 0.75rem; border: 1px solid var(--border); color: var(--success);"><strong>0 kr / m√•nad ‚úÖ</strong></td>
                        </tr>
                    </table>

                    <div class="info-box">
                        <strong>üí∞ Bottom line:</strong> Skapa hur m√•nga appar du vill, f√∂r hur m√•nga familjemedlemmar du vill - helt gratis!
                    </div>
                `
            },
            checklist: {
                title: "Snabb Checklista",
                icon: "‚úÖ",
                content: `
                    <h3>Checklista: Publicera ny app</h3>
                    <p>Anv√§nd denna f√∂r att snabbt publicera en ny app!</p>
                    
                    <h3>F√∂rberedelser (Eng√•ngsjobb)</h3>
                    <div style="background: var(--bg-secondary); padding: 1rem; border-radius: 0.5rem; margin: 1rem 0;">
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span>GitHub-konto skapat</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span>Firebase-projekt skapat</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span>Realtime Database aktiverad</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span>Firebase config sparad</span>
                        </label>
                    </div>

                    <h3>F√∂r varje ny app</h3>
                    <div style="background: var(--bg-secondary); padding: 1rem; border-radius: 0.5rem; margin: 1rem 0;">
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span><strong>1.</strong> D√∂p HTML-fil till <code>index.html</code></span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span><strong>2.</strong> L√§gg in Firebase config i JavaScript</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span><strong>3.</strong> Skapa nytt GitHub repo (sm√• bokst√§ver, inga mellanslag)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span><strong>4.</strong> Ladda upp <code>index.html</code> + ikoner/manifest</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span><strong>5.</strong> Aktivera GitHub Pages (Settings ‚Üí Pages ‚Üí main)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span><strong>6.</strong> V√§nta 2-3 minuter</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span><strong>7.</strong> Testa URL: <code>https://anv√§ndarnamn.github.io/reponamn/</code></span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span><strong>8.</strong> Installera p√• iPhone/Android</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span><strong>9.</strong> Testa synkning mellan enheter</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0.5rem 0;">
                            <input type="checkbox" style="width: 1.25rem; height: 1.25rem;">
                            <span><strong>10.</strong> Klart! üéâ</span>
                        </label>
                    </div>

                    <div class="info-box">
                        <strong>‚è±Ô∏è Total tid:</strong> ~5 minuter n√§r du gjort det en g√•ng!
                    </div>

                    <h3>Snabbkommandon</h3>
                    <div class="code-block"><code>GitHub: github.com
Firebase: console.firebase.google.com
Din URL: https://anv√§ndarnamn.github.io/reponamn/</code></div>

                    <h3>Tips</h3>
                    <ul>
                        <li>D√∂p repos till sm√• bokst√§ver: <code>stadquest</code></li>
                        <li>Ett Firebase-projekt f√∂r alla appar</li>
                        <li>Spara Firebase config p√• s√§ker plats</li>
                        <li>Testa alltid p√• flera enheter</li>
                    </ul>
                `
            }
        };

        function selectMode(mode) {
            currentMode = mode;
            
            // Update mode cards
            document.querySelectorAll('.mode-card').forEach(card => {
                card.classList.remove('active');
            });
            event.currentTarget.classList.add('active');

            // Hide mode selector
            document.getElementById('modeSelector').style.display = 'none';

            // Show selected content
            if (mode === 'menu') {
                document.getElementById('menuContent').classList.add('active');
                document.getElementById('stepsContent').classList.remove('active');
            } else {
                document.getElementById('stepsContent').classList.add('active');
                document.getElementById('menuContent').classList.remove('active');
                initSteps();
            }
        }

        function initSteps() {
            currentStep = 0;
            renderProgressIndicator();
            renderSteps();
            updateNavButtons();
        }

        function renderProgressIndicator() {
            const indicator = document.getElementById('progressIndicator');
            indicator.innerHTML = steps.map((_, i) => 
                `<div class="progress-dot ${i === currentStep ? 'active' : ''} ${i < currentStep ? 'completed' : ''}"></div>`
            ).join('');
        }

        function renderSteps() {
            const container = document.getElementById('stepsContainer');
            container.innerHTML = steps.map((step, i) => `
                <div class="step ${i === currentStep ? 'active' : ''}" id="step${i}">
                    <div class="step-header">
                        <div class="step-number">${i + 1}</div>
                        <div>
                            <div class="step-title">${step.icon} ${step.title}</div>
                        </div>
                    </div>
                    <div class="step-content">
                        ${step.content}
                    </div>
                </div>
            `).join('');
        }

        function nextStep() {
            if (currentStep < steps.length - 1) {
                currentStep++;
                renderProgressIndicator();
                renderSteps();
                updateNavButtons();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function prevStep() {
            if (currentStep > 0) {
                currentStep--;
                renderProgressIndicator();
                renderSteps();
                updateNavButtons();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function updateNavButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentStep === 0;
            
            if (currentStep === steps.length - 1) {
                nextBtn.textContent = 'üéâ Klart!';
                nextBtn.onclick = () => {
                    alert('Grattis! Du har nu g√•tt igenom hela guiden. Anv√§nd menyn f√∂r att hitta specifika avsnitt n√§r du beh√∂ver dem.');
                    document.getElementById('modeSelector').style.display = 'grid';
                    document.getElementById('stepsContent').classList.remove('active');
                };
            } else {
                nextBtn.textContent = 'N√§sta ‚Üí';
                nextBtn.onclick = nextStep;
            }
        }

        function showDetail(topic) {
            const detail = details[topic];
            if (!detail) return;

            currentDetail = topic;
            
            document.getElementById('menuContent').classList.remove('active');
            const detailContent = document.getElementById('detailContent');
            detailContent.classList.add('active');
            
            detailContent.innerHTML = `
                <div class="back-btn" onclick="backToMenu()">‚Üê Tillbaka till menyn</div>
                <div class="detail-view">
                    <div class="detail-header">
                        <span class="detail-icon">${detail.icon}</span>
                        <h2 class="detail-title">${detail.title}</h2>
                    </div>
                    <div class="detail-content">
                        ${detail.content}
                    </div>
                </div>
            `;
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function backToMenu() {
            document.getElementById('detailContent').classList.remove('active');
            document.getElementById('menuContent').classList.add('active');
            currentDetail = null;
        }

        window.backToStart = function() {
            document.getElementById('stepsContent').classList.remove('active');
            document.getElementById('menuContent').classList.remove('active');
            document.getElementById('detailContent').classList.remove('active');
            document.getElementById('modeSelector').style.display = 'none';
            document.getElementById('myAppsSection').style.display = 'block';
            currentMode = null;
        }

        window.showGuideMenu = function() {
            document.getElementById('guideOverlay').classList.add('active');
        }

        window.closeGuideMenu = function(event) {
            if (event && event.target !== event.currentTarget) return;
            document.getElementById('guideOverlay').classList.remove('active');
        }

        window.selectGuideMode = function(mode) {
            document.getElementById('guideOverlay').classList.remove('active');
            document.getElementById('myAppsSection').style.display = 'none';
            
            currentMode = mode;
            
            if (mode === 'menu') {
                document.getElementById('menuContent').classList.add('active');
                document.getElementById('stepsContent').classList.remove('active');
            } else {
                document.getElementById('stepsContent').classList.add('active');
                document.getElementById('menuContent').classList.remove('active');
                initSteps();
            }
        }

        // Initialize app list on load
        window.addEventListener('DOMContentLoaded', () => {
            renderAppList();
        });
    </script>
</body>
</html>
